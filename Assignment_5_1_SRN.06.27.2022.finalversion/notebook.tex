
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{prompt-SRN.06.27.2022}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \subsubsection{Module 5 Project Report (Shaji R.
Nathan)}\label{module-5-project-report-shaji-r.-nathan}

\paragraph{Will a Customer Accept the
Coupon?}\label{will-a-customer-accept-the-coupon}

\textbf{Context}

Imagine driving through town and a coupon is delivered to your cell
phone for a restaraunt near where you are driving. Would you accept that
coupon and take a short detour to the restaraunt? Would you accept the
coupon but use it on a sunbsequent trip? Would you ignore the coupon
entirely? What if the coupon was for a bar instead of a restaraunt? What
about a coffee house? Would you accept a bar coupon with a minor
passenger in the car? What about if it was just you and your partner in
the car? Would weather impact the rate of acceptance? What about the
time of day?

Obviously, proximity to the business is a factor on whether the coupon
is delivered to the driver or not, but what are the factors that
determine whether a driver accepts the coupon once it is delivered to
them? How would you determine whether a driver is likely to accept a
coupon?

\textbf{Overview}

The goal of this project is to use what you know about visualizations
and probability distributions to distinguish between customers who
accepted a driving coupon versus those that did not.

\textbf{Data}

This data comes to us from the UCI Machine Learning repository and was
collected via a survey on Amazon Mechanical Turk. The survey describes
different driving scenarios including the destination, current time,
weather, passenger, etc., and then ask the person whether he will accept
the coupon if he is the driver. Answers that the user will drive there
`right away' or `later before the coupon expires' are labeled as `Y = 1'
and answers `no, I do not want the coupon' are labeled as `Y = 0'. There
are five different types of coupons -\/- less expensive restaurants
(under \textbackslash{}\$20), coffee houses, carry out \& take away,
bar, and more expensive restaurants (\textbackslash{}\$20 -
\textbackslash{}\$50).

    \subsubsection{Data Description}\label{data-description}

The attributes of this data set include: 1. User attributes - Gender:
male, female - Age: below 21, 21 to 25, 26 to 30, etc. - Marital Status:
single, married partner, unmarried partner, or widowed - Number of
children: 0, 1, or more than 1 - Education: high school, bachelors
degree, associates degree, or graduate degree - Occupation: architecture
\& engineering, business \& financial, etc. - Annual income: less than
\textbackslash{}\$12500, \textbackslash{}\$12500 -
\textbackslash{}\$24999, \textbackslash{}\$25000 -
\textbackslash{}\$37499, etc. - Number of times that he/she goes to a
bar: 0, less than 1, 1 to 3, 4 to 8 or greater than 8 - Number of times
that he/she buys takeaway food: 0, less than 1, 1 to 3, 4 to 8 or
greater than 8 - Number of times that he/she goes to a coffee house: 0,
less than 1, 1 to 3, 4 to 8 or greater than 8 - Number of times that
he/she eats at a restaurant with average expense less than
\textbackslash{}\$20 per person: 0, less than 1, 1 to 3, 4 to 8 or
greater than 8 - Number of times that he/she goes to a bar: 0, less than
1, 1 to 3, 4 to 8 or greater than 8

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Contextual attributes

  \begin{itemize}
  \tightlist
  \item
    Driving destination: home, work, or no urgent destination
  \item
    Location of user, coupon and destination: we provide a map to show
    the geographical location of the user, destination, and the venue,
    and we mark the distance between each two places with time of
    driving. The user can see whether the venue is in the same direction
    as the destination.
  \item
    Weather: sunny, rainy, or snowy
  \item
    Temperature: 30F, 55F, or 80F
  \item
    Time: 10AM, 2PM, or 6PM
  \item
    Passenger: alone, partner, kid(s), or friend(s)
  \end{itemize}
\item
  Coupon attributes

  \begin{itemize}
  \tightlist
  \item
    time before it expires: 2 hours or one day
  \end{itemize}
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{c+c1}{\PYZsh{} importing the sys module}
        \PY{k+kn}{import} \PY{n+nn}{sys}
        
        \PY{c+c1}{\PYZsh{} the setrecursionlimit function is}
        \PY{c+c1}{\PYZsh{} to modify the default recursion limit set by python. Using this,}
        \PY{c+c1}{\PYZsh{} Increased to make notebook load properly}
        \PY{n}{sys}\PY{o}{.}\PY{n}{setrecursionlimit}\PY{p}{(}\PY{l+m+mi}{10}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{6}\PY{p}{)}
\end{Verbatim}


    \subsubsection{Problems}\label{problems}

Use the prompts below to get started with your data analysis.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Read in the \texttt{coupons.csv} file.
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data/coupons.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{data}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}4}]:}        destination  passanger weather  temperature  time  \textbackslash{}
        0  No Urgent Place      Alone   Sunny           55   2PM   
        1  No Urgent Place  Friend(s)   Sunny           80  10AM   
        2  No Urgent Place  Friend(s)   Sunny           80  10AM   
        3  No Urgent Place  Friend(s)   Sunny           80   2PM   
        4  No Urgent Place  Friend(s)   Sunny           80   2PM   
        
                          coupon expiration  gender age      maritalStatus  {\ldots}  \textbackslash{}
        0        Restaurant(<20)         1d  Female  21  Unmarried partner  {\ldots}   
        1           Coffee House         2h  Female  21  Unmarried partner  {\ldots}   
        2  Carry out \& Take away         2h  Female  21  Unmarried partner  {\ldots}   
        3           Coffee House         2h  Female  21  Unmarried partner  {\ldots}   
        4           Coffee House         1d  Female  21  Unmarried partner  {\ldots}   
        
           CoffeeHouse CarryAway RestaurantLessThan20 Restaurant20To50  \textbackslash{}
        0        never       NaN                  4\textasciitilde{}8              1\textasciitilde{}3   
        1        never       NaN                  4\textasciitilde{}8              1\textasciitilde{}3   
        2        never       NaN                  4\textasciitilde{}8              1\textasciitilde{}3   
        3        never       NaN                  4\textasciitilde{}8              1\textasciitilde{}3   
        4        never       NaN                  4\textasciitilde{}8              1\textasciitilde{}3   
        
          toCoupon\_GEQ5min toCoupon\_GEQ15min toCoupon\_GEQ25min direction\_same  \textbackslash{}
        0                1                 0                 0              0   
        1                1                 0                 0              0   
        2                1                 1                 0              0   
        3                1                 1                 0              0   
        4                1                 1                 0              0   
        
          direction\_opp  Y  
        0             1  1  
        1             1  0  
        2             1  1  
        3             1  0  
        4             1  0  
        
        [5 rows x 26 columns]
\end{Verbatim}
            
    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Investigate the dataset for missing or problematic data.
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{}dimensions of the datframe}
        
        \PY{n}{data}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} (12684, 26)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{c+c1}{\PYZsh{}start with some libraries needed}
        \PY{k+kn}{import} \PY{n+nn}{plotly}\PY{n+nn}{.}\PY{n+nn}{express} \PY{k}{as} \PY{n+nn}{px}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{c+c1}{\PYZsh{}Check the series data for unique values }
        
        \PY{k}{for} \PY{n}{col} \PY{o+ow}{in} \PY{n}{data}\PY{o}{.}\PY{n}{columns}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{ column has }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{ unique values}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{col}\PY{p}{,}\PY{n}{data}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{nunique}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]

destination column has 3 unique values

passanger column has 4 unique values

weather column has 3 unique values

temperature column has 3 unique values

time column has 5 unique values

coupon column has 5 unique values

expiration column has 2 unique values

gender column has 2 unique values

age column has 8 unique values

maritalStatus column has 5 unique values

has\_children column has 2 unique values

education column has 6 unique values

occupation column has 25 unique values

income column has 9 unique values

car column has 5 unique values

Bar column has 5 unique values

CoffeeHouse column has 5 unique values

CarryAway column has 5 unique values

RestaurantLessThan20 column has 5 unique values

Restaurant20To50 column has 5 unique values

toCoupon\_GEQ5min column has 1 unique values

toCoupon\_GEQ15min column has 2 unique values

toCoupon\_GEQ25min column has 2 unique values

direction\_same column has 2 unique values

direction\_opp column has 2 unique values

Y column has 2 unique values

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:} array([1, 0], dtype=int64)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{analyze}\PY{o}{=}\PY{n}{data}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Y}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s2}{\PYZdq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
        \PY{n}{analyze}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 12684 entries, 0 to 12683
Data columns (total 26 columns):
 \#   Column                Non-Null Count  Dtype 
---  ------                --------------  ----- 
 0   destination           12684 non-null  object
 1   passanger             12684 non-null  object
 2   weather               12684 non-null  object
 3   temperature           12684 non-null  int64 
 4   time                  12684 non-null  object
 5   coupon                12684 non-null  object
 6   expiration            12684 non-null  object
 7   gender                12684 non-null  object
 8   age                   12684 non-null  object
 9   maritalStatus         12684 non-null  object
 10  has\_children          12684 non-null  int64 
 11  education             12684 non-null  object
 12  occupation            12684 non-null  object
 13  income                12684 non-null  object
 14  car                   108 non-null    object
 15  Bar                   12577 non-null  object
 16  CoffeeHouse           12467 non-null  object
 17  CarryAway             12533 non-null  object
 18  RestaurantLessThan20  12554 non-null  object
 19  Restaurant20To50      12495 non-null  object
 20  toCoupon\_GEQ5min      12684 non-null  int64 
 21  toCoupon\_GEQ15min     12684 non-null  int64 
 22  toCoupon\_GEQ25min     12684 non-null  int64 
 23  direction\_same        12684 non-null  int64 
 24  direction\_opp         12684 non-null  int64 
 25  coupon\_redeem\_status  12684 non-null  int64 
dtypes: int64(8), object(18)
memory usage: 2.5+ MB

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{c+c1}{\PYZsh{}Examine the  numerical data in the data frame }
         
         \PY{n}{numerical\PYZus{}values} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{select\PYZus{}dtypes}\PY{p}{(}\PY{n}{include} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{int64}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         
         \PY{n}{numerical\PYZus{}values}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{)}\PY{o}{.}\PY{n}{T}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}10}]:}                     0   1   2
         temperature        55  80  80
         has\_children        1   1   1
         toCoupon\_GEQ5min    1   1   1
         toCoupon\_GEQ15min   0   0   1
         toCoupon\_GEQ25min   0   0   0
         direction\_same      0   0   0
         direction\_opp       1   1   1
         Y                   1   0   1
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{c+c1}{\PYZsh{} Function to  visualize the numerical data}
         
         \PY{k}{def} \PY{n+nf}{display\PYZus{}hist}\PY{p}{(}\PY{n}{df}\PY{p}{,} \PY{n}{variables}\PY{p}{,} \PY{n}{n\PYZus{}rows}\PY{p}{,} \PY{n}{n\PYZus{}columns}\PY{p}{)}\PY{p}{:}
             \PY{n}{fig}\PY{o}{=}\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
             \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{var\PYZus{}name} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{variables}\PY{p}{)}\PY{p}{:}
                 \PY{n}{ax}\PY{o}{=}\PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{n\PYZus{}rows}\PY{p}{,}\PY{n}{n\PYZus{}columns}\PY{p}{,}\PY{n}{i}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}
                 \PY{n}{df}\PY{p}{[}\PY{n}{var\PYZus{}name}\PY{p}{]}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{bins}\PY{o}{=}\PY{l+m+mi}{40}\PY{p}{,}\PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{,}\PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{,} \PY{n}{figsize} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,} \PY{l+m+mi}{15}\PY{p}{)}\PY{p}{)}
                 \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{n}{var\PYZus{}name}\PY{p}{,} \PY{n}{fontsize} \PY{o}{=} \PY{l+m+mi}{13}\PY{p}{)}
                 \PY{n}{ax}\PY{o}{.}\PY{n}{tick\PYZus{}params}\PY{p}{(}\PY{n}{axis} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{both}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{which} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{major}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{labelsize} \PY{o}{=} \PY{l+m+mi}{10}\PY{p}{)}
                 \PY{n}{ax}\PY{o}{.}\PY{n}{tick\PYZus{}params}\PY{p}{(}\PY{n}{axis} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{both}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{which} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{minor}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{labelsize} \PY{o}{=} \PY{l+m+mi}{10}\PY{p}{)}
                 \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{fig}\PY{o}{.}\PY{n}{tight\PYZus{}layout}\PY{p}{(}\PY{n}{rect} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mf}{0.03}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mf}{0.95}\PY{p}{]}\PY{p}{)}   
             \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
             
         \PY{n}{display\PYZus{}hist}\PY{p}{(}\PY{n}{numerical\PYZus{}values}\PY{p}{,} \PY{n}{numerical\PYZus{}values}\PY{o}{.}\PY{n}{columns}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_14_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{c+c1}{\PYZsh{}Check for columns with missing data }
         
         \PY{n}{missing\PYZus{}columns} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{data}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{values}
         \PY{n}{total\PYZus{}missing\PYZus{}columns} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{count\PYZus{}nonzero}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of Columns with missing values: }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{total\PYZus{}missing\PYZus{}columns}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ names of features: }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{missing\PYZus{}columns}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}Visually inspect to verify whether there is missing data using a heatmap}
         
         
         \PY{n}{sns}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{rc} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{figure.figsize}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{heatmap}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Number of Columns with missing values:  6  names of features:  ['car' 'Bar' 'CoffeeHouse' 'CarryAway' 'RestaurantLessThan20'
 'Restaurant20To50']

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}12}]:} <AxesSubplot:>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_15_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Decide what to do about your missing data -\/- drop, replace, other...
\end{enumerate}

    \subparagraph{There are some missing values in several columns as can be
seen from 11. 'car' column has 108 non-null values, which means more
than 99\% of the values are marked as "NaN". So this column can be
dropped. The data given is insufficient for any kind of analysis, so it
is best to remove this
column.}\label{there-are-some-missing-values-in-several-columns-as-can-be-seen-from-11.-car-column-has-108-non-null-values-which-means-more-than-99-of-the-values-are-marked-as-nan.-so-this-column-can-be-dropped.-the-data-given-is-insufficient-for-any-kind-of-analysis-so-it-is-best-to-remove-this-column.}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{c+c1}{\PYZsh{}Counts of unique values in the Car series}
         
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{analyze}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{car}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}dropping the car series from the dataframe}
         \PY{n}{analyze}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{car}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
         
         \PY{n}{analyze}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
do not drive                                22
Scooter and motorcycle                      22
Mazda5                                      22
Car that is too old to install Onstar :D    21
crossover                                   21
Name: car, dtype: int64
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 12684 entries, 0 to 12683
Data columns (total 25 columns):
 \#   Column                Non-Null Count  Dtype 
---  ------                --------------  ----- 
 0   destination           12684 non-null  object
 1   passanger             12684 non-null  object
 2   weather               12684 non-null  object
 3   temperature           12684 non-null  int64 
 4   time                  12684 non-null  object
 5   coupon                12684 non-null  object
 6   expiration            12684 non-null  object
 7   gender                12684 non-null  object
 8   age                   12684 non-null  object
 9   maritalStatus         12684 non-null  object
 10  has\_children          12684 non-null  int64 
 11  education             12684 non-null  object
 12  occupation            12684 non-null  object
 13  income                12684 non-null  object
 14  Bar                   12577 non-null  object
 15  CoffeeHouse           12467 non-null  object
 16  CarryAway             12533 non-null  object
 17  RestaurantLessThan20  12554 non-null  object
 18  Restaurant20To50      12495 non-null  object
 19  toCoupon\_GEQ5min      12684 non-null  int64 
 20  toCoupon\_GEQ15min     12684 non-null  int64 
 21  toCoupon\_GEQ25min     12684 non-null  int64 
 22  direction\_same        12684 non-null  int64 
 23  direction\_opp         12684 non-null  int64 
 24  coupon\_redeem\_status  12684 non-null  int64 
dtypes: int64(8), object(17)
memory usage: 2.4+ MB

    \end{Verbatim}

    Next we find columns with empty or NaN values. For each column find the
largest variable count and fill the empty values with a corresponding
variable with maximum count.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{analyze}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{analyze}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{p}{:}
             \PY{n}{analyze} \PY{o}{=} \PY{n}{analyze}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{p}{\PYZob{}}\PY{n}{x}\PY{p}{:} \PY{n}{analyze}\PY{p}{[}\PY{n}{x}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{idxmax}\PY{p}{(}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
\end{Verbatim}


    \subparagraph{Basic descriptive statistics and visualization of
categories in the
dataframe}\label{basic-descriptive-statistics-and-visualization-of-categories-in-the-dataframe}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{c+c1}{\PYZsh{}Basic Statistics}
         \PY{n}{analyze}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{n}{include}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{all}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}15}]:}             destination passanger weather   temperature   time        coupon  \textbackslash{}
         count             12684     12684   12684  12684.000000  12684         12684   
         unique                3         4       3           NaN      5             5   
         top     No Urgent Place     Alone   Sunny           NaN    6PM  Coffee House   
         freq               6283      7305   10069           NaN   3230          3996   
         mean                NaN       NaN     NaN     63.301798    NaN           NaN   
         std                 NaN       NaN     NaN     19.154486    NaN           NaN   
         min                 NaN       NaN     NaN     30.000000    NaN           NaN   
         25\%                 NaN       NaN     NaN     55.000000    NaN           NaN   
         50\%                 NaN       NaN     NaN     80.000000    NaN           NaN   
         75\%                 NaN       NaN     NaN     80.000000    NaN           NaN   
         max                 NaN       NaN     NaN     80.000000    NaN           NaN   
         
                expiration  gender    age    maritalStatus  {\ldots}  CoffeeHouse CarryAway  \textbackslash{}
         count       12684   12684  12684            12684  {\ldots}        12684     12684   
         unique          2       2      8                5  {\ldots}            5         5   
         top            1d  Female     21  Married partner  {\ldots}        less1       1\textasciitilde{}3   
         freq         7091    6511   2653             5100  {\ldots}         3602      4823   
         mean          NaN     NaN    NaN              NaN  {\ldots}          NaN       NaN   
         std           NaN     NaN    NaN              NaN  {\ldots}          NaN       NaN   
         min           NaN     NaN    NaN              NaN  {\ldots}          NaN       NaN   
         25\%           NaN     NaN    NaN              NaN  {\ldots}          NaN       NaN   
         50\%           NaN     NaN    NaN              NaN  {\ldots}          NaN       NaN   
         75\%           NaN     NaN    NaN              NaN  {\ldots}          NaN       NaN   
         max           NaN     NaN    NaN              NaN  {\ldots}          NaN       NaN   
         
                RestaurantLessThan20 Restaurant20To50 toCoupon\_GEQ5min  \textbackslash{}
         count                 12684            12684          12684.0   
         unique                    5                5              NaN   
         top                     1\textasciitilde{}3            less1              NaN   
         freq                   5506             6266              NaN   
         mean                    NaN              NaN              1.0   
         std                     NaN              NaN              0.0   
         min                     NaN              NaN              1.0   
         25\%                     NaN              NaN              1.0   
         50\%                     NaN              NaN              1.0   
         75\%                     NaN              NaN              1.0   
         max                     NaN              NaN              1.0   
         
                toCoupon\_GEQ15min toCoupon\_GEQ25min direction\_same direction\_opp  \textbackslash{}
         count       12684.000000      12684.000000   12684.000000  12684.000000   
         unique               NaN               NaN            NaN           NaN   
         top                  NaN               NaN            NaN           NaN   
         freq                 NaN               NaN            NaN           NaN   
         mean            0.561495          0.119126       0.214759      0.785241   
         std             0.496224          0.323950       0.410671      0.410671   
         min             0.000000          0.000000       0.000000      0.000000   
         25\%             0.000000          0.000000       0.000000      1.000000   
         50\%             1.000000          0.000000       0.000000      1.000000   
         75\%             1.000000          0.000000       0.000000      1.000000   
         max             1.000000          1.000000       1.000000      1.000000   
         
                 coupon\_redeem\_status  
         count           12684.000000  
         unique                   NaN  
         top                      NaN  
         freq                     NaN  
         mean                0.568433  
         std                 0.495314  
         min                 0.000000  
         25\%                 0.000000  
         50\%                 1.000000  
         75\%                 1.000000  
         max                 1.000000  
         
         [11 rows x 25 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{c+c1}{\PYZsh{} Data types of the columnar data}
         \PY{n}{analyze}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}16}]:} destination             object
         passanger               object
         weather                 object
         temperature              int64
         time                    object
         coupon                  object
         expiration              object
         gender                  object
         age                     object
         maritalStatus           object
         has\_children             int64
         education               object
         occupation              object
         income                  object
         Bar                     object
         CoffeeHouse             object
         CarryAway               object
         RestaurantLessThan20    object
         Restaurant20To50        object
         toCoupon\_GEQ5min         int64
         toCoupon\_GEQ15min        int64
         toCoupon\_GEQ25min        int64
         direction\_same           int64
         direction\_opp            int64
         coupon\_redeem\_status     int64
         dtype: object
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{c+c1}{\PYZsh{} Create distribution charts of all the object  datatypes that seem like categories.}
         
         \PY{n}{fig}\PY{p}{,} \PY{n}{axes} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{9}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{50}\PY{p}{)}\PY{p}{)}
         \PY{n}{axes} \PY{o}{=} \PY{n}{axes}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}
         
         \PY{k}{for} \PY{n}{ax}\PY{p}{,} \PY{n}{col} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{axes}\PY{p}{,} \PY{n}{analyze}\PY{o}{.}\PY{n}{select\PYZus{}dtypes}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{object}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{p}{)}\PY{p}{:}
             \PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{y}\PY{o}{=}\PY{n}{col}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{analyze}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{,} 
                           \PY{n}{palette}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rocket}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{order}\PY{o}{=}\PY{n}{analyze}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{;}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{tight\PYZus{}layout}\PY{p}{(}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_24_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  What proportion of the total observations chose to accept the coupon?
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{couponUsage}\PY{o}{=}\PY{n}{analyze}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
         \PY{n}{couponUsage}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}18}]:} 1    7210
         0    5474
         Name: coupon\_redeem\_status, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{c+c1}{\PYZsh{} Share of Coupon Accepted or rejected in the data}
         \PY{n}{df} \PY{o}{=} \PY{n}{analyze}
         \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{df}\PY{p}{,} \PY{n}{values}\PY{o}{=}\PY{n}{couponUsage}\PY{p}{,} \PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Coupon Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Coupon Rejected}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Coupon Usage among customers}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}traces}\PY{p}{(}\PY{n}{textinfo}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    
    
    \paragraph{Answer 1. A total of 12684 Coupons were issued. 7210 out of
12684 coupons issued were accepted by customers. 5474 coupons were
rejected or not
used.}\label{answer-1.-a-total-of-12684-coupons-were-issued.-7210-out-of-12684-coupons-issued-were-accepted-by-customers.-5474-coupons-were-rejected-or-not-used.}

    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  Use a bar plot to visualize the \texttt{coupon} column.
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{histogram}\PY{p}{(}\PY{n}{analyze}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Coupon Usage among different age groups}\PY{l+s+s2}{\PYZdq{}} \PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  Use a histogram to visualize the temperature column.
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{histogram}\PY{p}{(}\PY{n}{analyze}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Coupon Usage across cold, mild and hot days}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{n}{fig2} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{histogram}\PY{p}{(}\PY{n}{analyze}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{age}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{color}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{coupon}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Coupon Usage across age groups}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig2}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \textbf{Investigating the Bar Coupons}

Now, we will lead you through an exploration of just the bar related
coupons.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Create a new \texttt{DataFrame} that contains just the bar coupons.
\end{enumerate}

    Answer Creating a New Dataframe containing just the bar coupons

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{c+c1}{\PYZsh{}Create a new Dataframe containing just the bar coupons}
         
         \PY{n}{BarCouponDf}\PY{o}{=}\PY{n}{analyze}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon==}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{Bar}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{BarCouponDf}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}23}]:}         destination  passanger weather  temperature  time coupon expiration  \textbackslash{}
         9   No Urgent Place     Kid(s)   Sunny           80  10AM    Bar         1d   
         13             Home      Alone   Sunny           55   6PM    Bar         1d   
         17             Work      Alone   Sunny           55   7AM    Bar         1d   
         24  No Urgent Place  Friend(s)   Sunny           80  10AM    Bar         1d   
         35             Home      Alone   Sunny           55   6PM    Bar         1d   
         39             Work      Alone   Sunny           55   7AM    Bar         1d   
         46  No Urgent Place  Friend(s)   Sunny           80  10AM    Bar         1d   
         57             Home      Alone   Sunny           55   6PM    Bar         1d   
         61             Work      Alone   Sunny           55   7AM    Bar         1d   
         75  No Urgent Place     Kid(s)   Sunny           80  10AM    Bar         1d   
         
             gender age      maritalStatus  {\ldots}  CoffeeHouse CarryAway  \textbackslash{}
         9   Female  21  Unmarried partner  {\ldots}        never       1\textasciitilde{}3   
         13  Female  21  Unmarried partner  {\ldots}        never       1\textasciitilde{}3   
         17  Female  21  Unmarried partner  {\ldots}        never       1\textasciitilde{}3   
         24    Male  21             Single  {\ldots}        less1       4\textasciitilde{}8   
         35    Male  21             Single  {\ldots}        less1       4\textasciitilde{}8   
         39    Male  21             Single  {\ldots}        less1       4\textasciitilde{}8   
         46    Male  46             Single  {\ldots}          4\textasciitilde{}8       1\textasciitilde{}3   
         57    Male  46             Single  {\ldots}          4\textasciitilde{}8       1\textasciitilde{}3   
         61    Male  46             Single  {\ldots}          4\textasciitilde{}8       1\textasciitilde{}3   
         75    Male  46    Married partner  {\ldots}          1\textasciitilde{}3       1\textasciitilde{}3   
         
            RestaurantLessThan20 Restaurant20To50 toCoupon\_GEQ5min toCoupon\_GEQ15min  \textbackslash{}
         9                   4\textasciitilde{}8              1\textasciitilde{}3                1                 1   
         13                  4\textasciitilde{}8              1\textasciitilde{}3                1                 0   
         17                  4\textasciitilde{}8              1\textasciitilde{}3                1                 1   
         24                  4\textasciitilde{}8            less1                1                 0   
         35                  4\textasciitilde{}8            less1                1                 0   
         39                  4\textasciitilde{}8            less1                1                 1   
         46                  1\textasciitilde{}3            never                1                 0   
         57                  1\textasciitilde{}3            never                1                 0   
         61                  1\textasciitilde{}3            never                1                 1   
         75                  1\textasciitilde{}3            less1                1                 1   
         
            toCoupon\_GEQ25min direction\_same direction\_opp  coupon\_redeem\_status  
         9                  0              0             1                     0  
         13                 0              1             0                     1  
         17                 1              0             1                     0  
         24                 0              0             1                     1  
         35                 0              1             0                     1  
         39                 1              0             1                     1  
         46                 0              0             1                     0  
         57                 0              1             0                     0  
         61                 1              0             1                     0  
         75                 0              0             1                     1  
         
         [10 rows x 25 columns]
\end{Verbatim}
            
    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  What proportion of bar coupons were accepted?
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{n}{barcouponUsage}\PY{o}{=}\PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
         \PY{n}{barcouponUsage}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}24}]:} 0    1190
         1     827
         Name: coupon\_redeem\_status, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{c+c1}{\PYZsh{} Share of Coupon Accepted or rejected in the data}
         
         \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{BarCouponDf}\PY{p}{,} \PY{n}{values}\PY{o}{=}\PY{n}{barcouponUsage}\PY{p}{,} \PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Coupon Rejected}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Coupon Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Bar Coupon usage among customers}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}traces}\PY{p}{(}\PY{n}{textinfo}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \paragraph{Answer 2. A total of 2017 Bar Coupons were issued. 827 out of
2017 coupons issued were accepted by customers. 1190 coupons were
rejected or not
used.}\label{answer-2.-a-total-of-2017-bar-coupons-were-issued.-827-out-of-2017-coupons-issued-were-accepted-by-customers.-1190-coupons-were-rejected-or-not-used.}

    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Compare the acceptance rate between those who went to a bar 3 or fewer
  times a month to those who went more.
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}26}]:} \PY{n}{analyze}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Bar}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}26}]:} array(['never', 'less1', '1\textasciitilde{}3', 'gt8', '4\textasciitilde{}8'], dtype=object)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}27}]:} \PY{n}{barThreefew}\PY{o}{=}\PY{n}{BarCouponDf}\PY{p}{[}\PY{n}{BarCouponDf}\PY{o}{.}\PY{n}{Bar}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{never}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{less1}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1\PYZti{}3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{p}{]}
         \PY{n}{barThreefew}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Bar}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}27}]:} array(['never', 'less1', '1\textasciitilde{}3'], dtype=object)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} \PY{n}{barThreefewUsage}\PY{o}{=}\PY{n}{barThreefew}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
         \PY{n}{barThreefewUsage}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}28}]:} 0    1144
         1     674
         Name: coupon\_redeem\_status, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} \PY{c+c1}{\PYZsh{} Share of Coupon Accepted or rejected by customers who went to the bar 3 or fewer times a month }
         
         \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{barThreefew}\PY{p}{,} \PY{n}{values}\PY{o}{=} \PY{n}{barThreefewUsage}\PY{p}{,}\PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Not Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Bar Coupon usage among customers who went to the bar 3 or fewer times a month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:} \PY{n}{barFourMore}\PY{o}{=}\PY{n}{BarCouponDf}\PY{p}{[}\PY{n}{BarCouponDf}\PY{o}{.}\PY{n}{Bar}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{4\PYZti{}8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gt8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{]}
         \PY{n}{barFourMore}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Bar}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}30}]:} array(['gt8', '4\textasciitilde{}8'], dtype=object)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{barFourMoreUsage}\PY{o}{=}\PY{n}{barFourMore}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
         \PY{n}{barFourMoreUsage}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}31}]:} 1    153
         0     46
         Name: coupon\_redeem\_status, dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}32}]:} \PY{c+c1}{\PYZsh{} Share of Coupon Accepted or rejected by customers who went to the 4 or more times a month }
         
         \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{barFourMore}\PY{p}{,} \PY{n}{values}\PY{o}{=} \PY{n}{barFourMoreUsage}\PY{p}{,}\PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Not Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Bar Coupon usage among customers who went to the bar 4 or more times a month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \paragraph{Answer 3. 23.1\% percent of the customers who went to the bar
four or more times used Bar Coupons compared to 37.1\% of customers who
went to the bar 3 times or less. Bar coupons are less likely to be used
by customers who frequently go to the
bar.}\label{answer-3.-23.1-percent-of-the-customers-who-went-to-the-bar-four-or-more-times-used-bar-coupons-compared-to-37.1-of-customers-who-went-to-the-bar-3-times-or-less.-bar-coupons-are-less-likely-to-be-used-by-customers-who-frequently-go-to-the-bar.}

    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  Compare the acceptance rate between drivers who go to a bar more than
  once a month and are over the age of 25 to the all others. Is there a
  difference?
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}33}]:} \PY{n}{barOnceOverTwentyFive}\PY{o}{=}\PY{n}{BarCouponDf}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bar.isin([}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{1\PYZti{}3}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{4\PYZti{}8}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{gt8}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{]) \PYZam{} age\PYZgt{}}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{25}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{barOnceOverTwentyFive}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}33}]:}          destination  passanger weather  temperature  time coupon expiration  \textbackslash{}
         112  No Urgent Place  Friend(s)   Sunny           80  10AM    Bar         1d   
         123             Home      Alone   Sunny           55   6PM    Bar         1d   
         127             Work      Alone   Sunny           55   7AM    Bar         1d   
         156  No Urgent Place  Friend(s)   Sunny           80  10AM    Bar         1d   
         167             Home      Alone   Sunny           55   6PM    Bar         1d   
         
             gender age      maritalStatus  {\ldots}  CoffeeHouse CarryAway  \textbackslash{}
         112   Male  26  Unmarried partner  {\ldots}          gt8       4\textasciitilde{}8   
         123   Male  26  Unmarried partner  {\ldots}          gt8       4\textasciitilde{}8   
         127   Male  26  Unmarried partner  {\ldots}          gt8       4\textasciitilde{}8   
         156   Male  26             Single  {\ldots}          gt8       gt8   
         167   Male  26             Single  {\ldots}          gt8       gt8   
         
             RestaurantLessThan20 Restaurant20To50 toCoupon\_GEQ5min toCoupon\_GEQ15min  \textbackslash{}
         112                  1\textasciitilde{}3            less1                1                 0   
         123                  1\textasciitilde{}3            less1                1                 0   
         127                  1\textasciitilde{}3            less1                1                 1   
         156                  gt8              gt8                1                 0   
         167                  gt8              gt8                1                 0   
         
             toCoupon\_GEQ25min direction\_same direction\_opp  coupon\_redeem\_status  
         112                 0              0             1                     1  
         123                 0              1             0                     1  
         127                 1              0             1                     1  
         156                 0              0             1                     1  
         167                 0              1             0                     1  
         
         [5 rows x 25 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}34}]:}  \PY{c+c1}{\PYZsh{} Share of Coupon Accepted or rejected by customers who went to the bar at least once and were older than 25 years}
         
         \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{barOnceOverTwentyFive}\PY{p}{,} \PY{n}{values}\PY{o}{=} \PY{n}{barOnceOverTwentyFive}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{p}{,}\PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Not Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Bar Coupon usage among customers who went to the bar at least once a month and were over 25 years of age}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{c+c1}{\PYZsh{}all others}
         
         \PY{n}{barallOthers}\PY{o}{=}\PY{n}{BarCouponDf}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bar.isin([}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{never}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{less1}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{]) \PYZam{} age\PYZlt{}=}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{25}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{barallOthers}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}35}]:}         destination  passanger weather  temperature  time coupon expiration  \textbackslash{}
         9   No Urgent Place     Kid(s)   Sunny           80  10AM    Bar         1d   
         13             Home      Alone   Sunny           55   6PM    Bar         1d   
         17             Work      Alone   Sunny           55   7AM    Bar         1d   
         24  No Urgent Place  Friend(s)   Sunny           80  10AM    Bar         1d   
         35             Home      Alone   Sunny           55   6PM    Bar         1d   
         
             gender age      maritalStatus  {\ldots}  CoffeeHouse CarryAway  \textbackslash{}
         9   Female  21  Unmarried partner  {\ldots}        never       1\textasciitilde{}3   
         13  Female  21  Unmarried partner  {\ldots}        never       1\textasciitilde{}3   
         17  Female  21  Unmarried partner  {\ldots}        never       1\textasciitilde{}3   
         24    Male  21             Single  {\ldots}        less1       4\textasciitilde{}8   
         35    Male  21             Single  {\ldots}        less1       4\textasciitilde{}8   
         
            RestaurantLessThan20 Restaurant20To50 toCoupon\_GEQ5min toCoupon\_GEQ15min  \textbackslash{}
         9                   4\textasciitilde{}8              1\textasciitilde{}3                1                 1   
         13                  4\textasciitilde{}8              1\textasciitilde{}3                1                 0   
         17                  4\textasciitilde{}8              1\textasciitilde{}3                1                 1   
         24                  4\textasciitilde{}8            less1                1                 0   
         35                  4\textasciitilde{}8            less1                1                 0   
         
            toCoupon\_GEQ25min direction\_same direction\_opp  coupon\_redeem\_status  
         9                  0              0             1                     0  
         13                 0              1             0                     1  
         17                 1              0             1                     0  
         24                 0              0             1                     1  
         35                 0              1             0                     1  
         
         [5 rows x 25 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{c+c1}{\PYZsh{} Share of Coupon Accepted or rejected by all other customers \PYZlt{} 25 years}
         
         \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{barallOthers}\PY{p}{,} \PY{n}{values}\PY{o}{=} \PY{n}{barallOthers}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{p}{,}\PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Not Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Bar Coupon usage among all other customers under 25 years of age}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \paragraph{Answer 4. 31.2\% percent of the customers abover the age of
24 years who went to the bar more than one time used Bar Coupons
compared to 38.8\% of customers who were under the age of 25 went to the
bar 3 times or less. Bar coupons are less likely to be used by customers
who frequently go to the bar and are above 24
years.}\label{answer-4.-31.2-percent-of-the-customers-abover-the-age-of-24-years-who-went-to-the-bar-more-than-one-time-used-bar-coupons-compared-to-38.8-of-customers-who-were-under-the-age-of-25-went-to-the-bar-3-times-or-less.-bar-coupons-are-less-likely-to-be-used-by-customers-who-frequently-go-to-the-bar-and-are-above-24-years.}

    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  Use the same process to compare the acceptance rate between drivers
  who go to bars more than once a month and had passengers that were not
  a kid and had occupations other than farming, fishing, or forestry.
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{passanger}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}37}]:} array(['Kid(s)', 'Alone', 'Friend(s)', 'Partner'], dtype=object)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{occupation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}38}]:} array(['Unemployed', 'Architecture \& Engineering', 'Student',
                'Education\&Training\&Library', 'Healthcare Support',
                'Healthcare Practitioners \& Technical', 'Sales \& Related',
                'Management', 'Arts Design Entertainment Sports \& Media',
                'Computer \& Mathematical', 'Life Physical Social Science',
                'Personal Care \& Service', 'Community \& Social Services',
                'Office \& Administrative Support', 'Construction \& Extraction',
                'Legal', 'Retired', 'Installation Maintenance \& Repair',
                'Transportation \& Material Moving', 'Business \& Financial',
                'Protective Service', 'Food Preparation \& Serving Related',
                'Production Occupations',
                'Building \& Grounds Cleaning \& Maintenance',
                'Farming Fishing \& Forestry'], dtype=object)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}39}]:} \PY{n}{filter\PYZus{}} \PY{o}{=} \PY{o}{\PYZti{}}\PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{occupation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Farming Fishing \PYZam{} Forestry}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{filter\PYZus{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
9        True
13       True
17       True
24       True
35       True
         {\ldots} 
12663    True
12664    True
12667    True
12670    True
12682    True
Name: occupation, Length: 2017, dtype: bool

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{n}{BarCouponDfiltered}\PY{o}{=} \PY{n}{BarCouponDf}\PY{p}{[}\PY{n}{filter\PYZus{}}\PY{p}{]}
         
         \PY{n}{barOnceNoKids}\PY{o}{=}\PY{n}{BarCouponDfiltered}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bar.isin([}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{1\PYZti{}3}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{4\PYZti{}8}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{gt8}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{]) \PYZam{} passanger.isin([}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{Alone}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{, }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{Friend(s)}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{, }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{Partner}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{])}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{barOnceNoKids}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}40}]:}          destination  passanger weather  temperature  time coupon expiration  \textbackslash{}
         90   No Urgent Place  Friend(s)   Sunny           80  10AM    Bar         1d   
         101             Home      Alone   Sunny           55   6PM    Bar         1d   
         105             Work      Alone   Sunny           55   7AM    Bar         1d   
         112  No Urgent Place  Friend(s)   Sunny           80  10AM    Bar         1d   
         123             Home      Alone   Sunny           55   6PM    Bar         1d   
         
             gender age      maritalStatus  {\ldots}  CoffeeHouse CarryAway  \textbackslash{}
         90    Male  21             Single  {\ldots}        less1       1\textasciitilde{}3   
         101   Male  21             Single  {\ldots}        less1       1\textasciitilde{}3   
         105   Male  21             Single  {\ldots}        less1       1\textasciitilde{}3   
         112   Male  26  Unmarried partner  {\ldots}          gt8       4\textasciitilde{}8   
         123   Male  26  Unmarried partner  {\ldots}          gt8       4\textasciitilde{}8   
         
             RestaurantLessThan20 Restaurant20To50 toCoupon\_GEQ5min toCoupon\_GEQ15min  \textbackslash{}
         90                 less1              1\textasciitilde{}3                1                 0   
         101                less1              1\textasciitilde{}3                1                 0   
         105                less1              1\textasciitilde{}3                1                 1   
         112                  1\textasciitilde{}3            less1                1                 0   
         123                  1\textasciitilde{}3            less1                1                 0   
         
             toCoupon\_GEQ25min direction\_same direction\_opp  coupon\_redeem\_status  
         90                  0              0             1                     1  
         101                 0              1             0                     1  
         105                 1              0             1                     0  
         112                 0              0             1                     1  
         123                 0              1             0                     1  
         
         [5 rows x 25 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{c+c1}{\PYZsh{} Share of Coupon Accepted or rejected by acceptance rate between drivers who go to bars more than once a month and had passengers that were not a kid and had occupations other than farming, fishing, or forestry. }
         
         \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{barOnceNoKids}\PY{p}{,} \PY{n}{values}\PY{o}{=} \PY{n}{barOnceNoKids}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{p}{,}\PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Not Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Drivers going to bars more than once a month, without kid passengers \PYZam{} not employed in farming/fishing/forestry. }\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  Compare the acceptance rates between those drivers who:
\end{enumerate}

\begin{itemize}
\tightlist
\item
  go to bars more than once a month, had passengers that were not a kid,
  and were not widowed \emph{OR}
\item
  go to bars more than once a month and are under the age of 30
  \emph{OR}
\item
  go to cheap restaurants more than 4 times a month and income is less
  than 50K.
\end{itemize}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}42}]:} \PY{c+c1}{\PYZsh{}go to bars more than once a month}
         \PY{n}{filter2\PYZus{}} \PY{o}{=} \PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1\PYZti{}3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{4\PYZti{}8}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{gt8}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)} 
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{filter2\PYZus{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}go to bars more than once a month and had passengers that were not a kid}
         \PY{n}{filter3\PYZus{}} \PY{o}{=}\PY{o}{\PYZti{}}\PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{passanger}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{kid}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)} 
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{filter3\PYZus{}}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}go to bars more than once a month, had passengers that were not a kid, and were not widowed}
         \PY{n}{filter4\PYZus{}}\PY{o}{=}\PY{o}{\PYZti{}}\PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{maritalStatus}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{isin}\PY{p}{(}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{widowed}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)} 
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{filter4\PYZus{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
9        False
13       False
17       False
24       False
35       False
         {\ldots}  
12663    False
12664    False
12667    False
12670    False
12682    False
Name: Bar, Length: 2017, dtype: bool
9        True
13       True
17       True
24       True
35       True
         {\ldots} 
12663    True
12664    True
12667    True
12670    True
12682    True
Name: passanger, Length: 2017, dtype: bool
9        True
13       True
17       True
24       True
35       True
         {\ldots} 
12663    True
12664    True
12667    True
12670    True
12682    True
Name: maritalStatus, Length: 2017, dtype: bool

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}43}]:} \PY{n}{testdf}\PY{o}{=}\PY{n}{BarCouponDf}\PY{p}{[}\PY{n}{filter2\PYZus{}}\PY{p}{]} 
         \PY{n}{testdf}\PY{o}{=}\PY{n}{BarCouponDf}\PY{p}{[}\PY{n}{filter3\PYZus{}}\PY{p}{]} 
         \PY{n}{WidowedOnceNoKids}\PY{o}{=}\PY{n}{BarCouponDf}\PY{p}{[}\PY{n}{filter4\PYZus{}}\PY{p}{]} 
         \PY{n}{WidowedOnceNoKids}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}43}]:}         destination  passanger weather  temperature  time coupon expiration  \textbackslash{}
         9   No Urgent Place     Kid(s)   Sunny           80  10AM    Bar         1d   
         13             Home      Alone   Sunny           55   6PM    Bar         1d   
         17             Work      Alone   Sunny           55   7AM    Bar         1d   
         24  No Urgent Place  Friend(s)   Sunny           80  10AM    Bar         1d   
         35             Home      Alone   Sunny           55   6PM    Bar         1d   
         
             gender age      maritalStatus  {\ldots}  CoffeeHouse CarryAway  \textbackslash{}
         9   Female  21  Unmarried partner  {\ldots}        never       1\textasciitilde{}3   
         13  Female  21  Unmarried partner  {\ldots}        never       1\textasciitilde{}3   
         17  Female  21  Unmarried partner  {\ldots}        never       1\textasciitilde{}3   
         24    Male  21             Single  {\ldots}        less1       4\textasciitilde{}8   
         35    Male  21             Single  {\ldots}        less1       4\textasciitilde{}8   
         
            RestaurantLessThan20 Restaurant20To50 toCoupon\_GEQ5min toCoupon\_GEQ15min  \textbackslash{}
         9                   4\textasciitilde{}8              1\textasciitilde{}3                1                 1   
         13                  4\textasciitilde{}8              1\textasciitilde{}3                1                 0   
         17                  4\textasciitilde{}8              1\textasciitilde{}3                1                 1   
         24                  4\textasciitilde{}8            less1                1                 0   
         35                  4\textasciitilde{}8            less1                1                 0   
         
            toCoupon\_GEQ25min direction\_same direction\_opp  coupon\_redeem\_status  
         9                  0              0             1                     0  
         13                 0              1             0                     1  
         17                 1              0             1                     0  
         24                 0              0             1                     1  
         35                 0              1             0                     1  
         
         [5 rows x 25 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{WidowedOnceNoKids}\PY{p}{,} \PY{n}{values}\PY{o}{=} \PY{n}{WidowedOnceNoKids}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{p}{,}\PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Not Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Drivers going to bars more than once a month, without kid passengers \PYZam{} not widowed. }\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}45}]:} \PY{c+c1}{\PYZsh{}go to bars more than once a month and are under the age of 30}
         
         \PY{n}{barOnceUnder30}\PY{o}{=}\PY{n}{barOnceNoKids}\PY{o}{=}\PY{n}{BarCouponDf}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bar.isin([}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{1\PYZti{}3}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{4\PYZti{}8}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{gt8}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{]) \PYZam{} age \PYZlt{}}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{30}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{barOnceUnder30}\PY{p}{,} \PY{n}{values}\PY{o}{=} \PY{n}{barOnceUnder30}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{p}{,}\PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Not Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Drivers under 30 going to bars more than once a month }\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}46}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{RestaurantLessThan20}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{income}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
['4\textasciitilde{}8' '1\textasciitilde{}3' 'less1' 'gt8' 'never']
['\$37500 - \$49999' '\$62500 - \$74999' '\$12500 - \$24999' '\$75000 - \$87499'
 '\$50000 - \$62499' '\$25000 - \$37499' '\$100000 or More' '\$87500 - \$99999'
 'Less than \$12500']

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{c+c1}{\PYZsh{}Drivers who go to cheap restaurants more than 4 times a month and income is less than 50K.}
         
         \PY{n}{CheapRestFourMore}\PY{o}{=}\PY{n}{BarCouponDf}\PY{o}{.}\PY{n}{query}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RestaurantLessThan20.isin([}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{1\PYZti{}3}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{less1}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{]) \PYZam{} income \PYZlt{}}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZdl{}50000 \PYZhy{} \PYZdl{}62499}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         
         \PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}\PY{n}{CheapRestFourMore}\PY{p}{,} \PY{n}{values}\PY{o}{=} \PY{n}{CheapRestFourMore}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{coupon\PYZus{}redeem\PYZus{}status}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{p}{,}\PY{n}{names}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Not Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Accepted}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Drivers under 30 going to bars more than once a month }\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}48}]:} \PY{c+c1}{\PYZsh{} Comparison of customer behavior for coupon responses for cheap and expensive cheap restaurants}
         \PY{n}{cheaprest} \PY{o}{=} \PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RestaurantLessThan20}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
         \PY{n}{exp} \PY{o}{=} \PY{n}{BarCouponDf}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Restaurant20To50}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} combining frequencies of grps for cheap and expensive restaurants}
         
         \PY{n}{combined} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{cheaprest}\PY{p}{,}\PY{n}{exp}\PY{p}{,}\PY{n}{left\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}\PY{n}{right\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}   
         
         \PY{c+c1}{\PYZsh{} Rearrange for plotting}
         
         \PY{n}{unpivotdf} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{melt}\PY{p}{(}\PY{n}{combined}\PY{p}{,}\PY{n}{id\PYZus{}vars}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{index}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{value\PYZus{}vars}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RestaurantLessThan20}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Restaurant20To50}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}  
         
         \PY{c+c1}{\PYZsh{} plotting the data}
         \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
         
         \PY{n}{sns}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{data}\PY{o}{=}\PY{n}{unpivotdf}\PY{p}{,}\PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{index}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{hue}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Frequency of restaurant visits}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Patrons }\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Comparison of Cheap \PYZam{} Expensive Restaurants Frequency Counts}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{frameon}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,}\PY{n}{loc}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{upper right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_69_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{6}
\tightlist
\item
  Based on these observations, what do you hypothesize about drivers who
  accepted the bar coupons?
\end{enumerate}

    Answer Most patronage is for cheaper restaurants. The visits range from
1 to 8 times. Bars and expensive restaurants, mostly reject coupons. It
is not worthwile to issue coupons for patrons who frequent bars.

    \subsubsection{Independent
Investigation}\label{independent-investigation}

Using the bar coupon example as motivation, you are to explore one of
the other coupon groups and try to determine the characteristics of
passengers who accept the coupons.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}49}]:} \PY{c+c1}{\PYZsh{}Reference Code Used:   https://stackoverflow.com/questions/31726643/how\PYZhy{}to\PYZhy{}plot\PYZhy{}in\PYZhy{}multiple\PYZhy{}subplots}
         
         \PY{n}{freqcolumns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temperature}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{expiration}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{age}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{income}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{k}{def} \PY{n+nf}{calculate\PYZus{}frequency}\PY{p}{(}\PY{n}{nrows}\PY{p}{,} \PY{n}{ncols}\PY{p}{,}\PY{n}{figsize}\PY{p}{,}\PY{n}{cols\PYZus{}to\PYZus{}plot}\PY{p}{)}\PY{p}{:}
             \PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
         \PY{l+s+sd}{    Helper function to print countplots / frequency\PYZhy{}distribution of each attribute}
         \PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
             \PY{n}{fig}\PY{p}{,}\PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{nrows}\PY{o}{=}\PY{n}{nrows}\PY{p}{,} \PY{n}{ncols}\PY{o}{=}\PY{n}{ncols}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{n}{figsize}\PY{p}{)}  
             \PY{n}{ax} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}
             \PY{n}{i} \PY{o}{=} \PY{l+m+mi}{0}
             \PY{k}{for} \PY{n}{col} \PY{o+ow}{in} \PY{n}{analyze}\PY{o}{.}\PY{n}{columns}\PY{p}{:}
                 \PY{k}{if} \PY{n}{col} \PY{o+ow}{in} \PY{n}{cols\PYZus{}to\PYZus{}plot} \PY{o+ow}{and} \PY{n}{col}\PY{o}{!=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}  \PY{c+c1}{\PYZsh{} we don\PYZsq{}t want to see distribution of target variable}
                     \PY{k}{if} \PY{n}{analyze}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{dtype}\PY{o}{==}\PY{n}{np}\PY{o}{.}\PY{n}{int64}\PY{p}{:}   \PY{c+c1}{\PYZsh{} Any numeric column is converted to categorical first for plotting countplots}
                         \PY{n}{analyze}\PY{p}{[}\PY{n}{col}\PY{p}{]} \PY{o}{=} \PY{n}{analyze}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{str}\PY{p}{)}
                     \PY{n}{temp} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
                     \PY{n}{sns}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{temp}\PY{o}{.}\PY{n}{values}\PY{p}{,}\PY{n}{y}\PY{o}{=}\PY{n}{temp}\PY{o}{.}\PY{n}{index}\PY{p}{,}\PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}
                     \PY{n}{ax}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                     \PY{n}{ax}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Frequency distribution of }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{col}\PY{p}{)}\PY{p}{)}
                      
                     \PY{n}{i} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
                     
         \PY{n}{calculate\PYZus{}frequency}\PY{p}{(}\PY{n}{nrows}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{ncols}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{22}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{,}\PY{n}{cols\PYZus{}to\PYZus{}plot}\PY{o}{=}\PY{n}{freqcolumns}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_73_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subparagraph{Frequency Distribution of Categorical
Data}\label{frequency-distribution-of-categorical-data}

From the chart above we can see the distribution of various categorical
values in the Bar Coupon Dataset. We can make the following statements
based on the data:

\begin{verbatim}
1. Temperature value recorded is mostly on the higher side, so most survey responses came from people living in places where the climate gets pretty hot.

2. Most of the responses came from drivers in the age group of 21-31 year olds and also tended to have lower salaries. 

3. Coupon acceptance rate in regions with high temperature is more. 

4. Coupon usage is prevalent regardless of age or income.   
\end{verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}50}]:} \PY{c+c1}{\PYZsh{} Check for effect of income and visits to expensive restaurants}
         
         \PY{n}{analyzetemp} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{BarCouponDf}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{income}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Restaurant20To50}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{size}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
         \PY{n}{analyzetemp}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{income}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Restaurant20To50}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{values}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          
         \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{income}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{values}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{hue}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Restaurant20To50}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{data}\PY{o}{=}\PY{n}{analyzetemp}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xticks}\PY{p}{(}\PY{n}{rotation} \PY{o}{=} \PY{l+m+mi}{35}\PY{p}{,}\PY{n}{rotation\PYZus{}mode} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{anchor}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{ha} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{right}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Income and Visits to Expensive Restaurant}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Number of Visits}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{loc}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{upper right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_75_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subparagraph{Expensive Restaurants are frequented by patrons with an
income of Hundred thousand dollars or more and the visits range from
1-3}\label{expensive-restaurants-are-frequented-by-patrons-with-an-income-of-hundred-thousand-dollars-or-more-and-the-visits-range-from-1-3}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}51}]:} \PY{n}{calculate\PYZus{}frequency}\PY{p}{(}\PY{n}{nrows}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{ncols}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{13}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{,}\PY{n}{cols\PYZus{}to\PYZus{}plot}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{passanger}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weather}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{maritalStatus}\PY{l+s+s1}{\PYZsq{}} \PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_77_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subparagraph{Single drivers are more likely to use coupons in the
mornings around 7, when the weather is fine followed by married people
in the evenings around 6
PM}\label{single-drivers-are-more-likely-to-use-coupons-in-the-mornings-around-7-when-the-weather-is-fine-followed-by-married-people-in-the-evenings-around-6-pm}

    Conclusion:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  A total of 12684 Coupons were issued. 7210 out of 12684 coupons issued
  were accepted by customers. 5474 coupons were rejected or not used.
\item
  23.1\% percent of the customers who went to the bar four or more times
  used Bar Coupons compared to 37.1\% of customers who went to the bar 3
  times or less. Bar coupons are less likely to be used by customers who
  frequently go to the bar.
\item
  31.2\% percent of the customers abover the age of 24 years who went to
  the bar more than one time used Bar Coupons compared to 38.8\% of
  customers who were under the age of 25 went to the bar 3 times or
  less. Bar coupons are less likely to be used by customers who
  frequently go to the bar and are above 24 years.
\item
  Most patronage is for cheaper restaurants. The visits range from 1 to
  8 times
\item
  Single drivers are more likely to use coupons in the mornings around
  7, when the weather is fine followed by married people in the evenings
  around 6 PM
\item
  Coupons are accepted by patrons of cheaper restaurants and takeaway.
  On the whole patrons of bars and expensive restaurants, mostly reject
  coupons. It is not worthwile to issue coupons for patrons who frequent
  bars.
\end{enumerate}

    \subparagraph{Future Studies:}\label{future-studies}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Current analysis is mostly based on exploratory visual data analysis.
  It would be interesting to see how different machine learning
  techniques can be applied to get more granular insights.
\end{enumerate}


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
